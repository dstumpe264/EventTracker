

<h1>Vehicle maintenance tracker</h1>

<div ng-show="!vm.selected">
	<h2>Keep track of when your vehicle's next oil change is due</h2>
	<h3>Click on the vehicle to view maintenance actions</h3>
		<div ng-repeat='veh in vm.vehicles'>
			<h2 class="vehicles" ng-click="vm.show(veh)">{{veh.make}} {{veh.model}}
			<button type="button" ng-click="vm.destroyVehicle(veh)">Delete Vehicle</button>
			</h2>
		</div>
		<button type="button" ng-click="vm.addVehicle()">New Vehicle</button>
</div>


<div class="addVehicle" ng-show="vm.editVehicle">
	<form>
		Year: <input type="text" ng-model="newVehicle.year"><br>
		Make: <input type="text" ng-model="newVehicle.make"><br>
		Model: <input type="text" ng-model="newVehicle.model"><br>
		Current Miles: <input type="text" ng-model="newVehicle.currentMiles"><br>
		Miles Due:  <input type="text" ng-model="newVehicle.milesDue"><br>
		<input type="submit" ng-click="vm.createVehicle(newVehicle); newVehicle = {}" value="Add Vehicle">
	</form>
</div>


<div ng-show="vm.selected">
	{{vm.selected.year}}
	{{vm.selected.make}}
	{{vm.selected.model}}
	<br>
	Current Miles: {{vm.selected.currentMiles}}<br>
	Miles due date: {{vm.selected.milesDue}}<br>
	Miles till due date: {{vm.selected.milesDue - vm.selected.currentMiles}}
	<br>
	<button type="button" ng-click="vm.updateMiles(vm.selected)">Update Miles</button>
	<button type="button" ng-click="vm.selected = null; vm.addMiles = null">Return</button>
	<div class="" ng-model="vm.addMiles" ng-show="vm.addMiles">
		<form>
			<input type="text" ng-model="vm.addMiles.currentMiles" placeholder="Miles">New Current Miles</input>
			<br>
			<input type="submit" value="Submit" ng-click="vm.updateVehicle(vm.addMiles)">
		</form>
	</div>
</div>
